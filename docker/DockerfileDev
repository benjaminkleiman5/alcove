# Stage 1:
FROM alcove_base


# Stage 2:
FROM node:20

# Retrieve the generated SSH key from our base image
# TODO: Put these into the correct place (not the container root)
COPY --from=0 /root/.ssh/id_rsa /
COPY --from=0 /root/.ssh/id_rsa.pub /

# Copy the entrypoint script
COPY alcovedev.sh /docker-entrypoint.sh
RUN chmod +x /docker-entrypoint.sh

# Set the entrypoint to execute the script
ENTRYPOINT ["/docker-entrypoint.sh"]


